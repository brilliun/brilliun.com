<!DOCTYPE html>
<html lang="en-us">
  <head>
    
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="generator" content="Hugo 0.53 with theme Tranquilpeak 0.4.3-SNAPSHOT">
<meta name="author" content="Guangyao Liu">
<meta name="keywords" content="">
<meta name="description" content="Prior Knowledge There are 3 main tasks for a browser to execute a web application:
 Fetching resources Page layout and rendering Javascript execution  Browsers And Browser Kernels Comparison of web browser engines
(WebKit)  Web layout engine: WebCore Javascript engine: JavascriptCore  Chrome  Web layout engine: Blink  Originally forked from WebCore, a component of WebKit  Javascript engine: V8  Safari  Web layout engine: WebCore Javascript engine: JavascriptCore  later evolved to Nitro, which compiles JavaScript into native machine code   Firefox  Web layout engine: Gecko Javascript engine: SpiderMonkey  Microsoft Edge  Web layout engine: EdgeHTML  forked from Trident, the engine of IE  Javascript engine: Chakra  Fetching Resources Prior Knowledge URL And URI Socket IP Protocol MAC Address Fetching from Cache Given the URL of a resource on the web, the browser starts by checking its local and application caches.">


<meta property="og:description" content="Prior Knowledge There are 3 main tasks for a browser to execute a web application:
 Fetching resources Page layout and rendering Javascript execution  Browsers And Browser Kernels Comparison of web browser engines
(WebKit)  Web layout engine: WebCore Javascript engine: JavascriptCore  Chrome  Web layout engine: Blink  Originally forked from WebCore, a component of WebKit  Javascript engine: V8  Safari  Web layout engine: WebCore Javascript engine: JavascriptCore  later evolved to Nitro, which compiles JavaScript into native machine code   Firefox  Web layout engine: Gecko Javascript engine: SpiderMonkey  Microsoft Edge  Web layout engine: EdgeHTML  forked from Trident, the engine of IE  Javascript engine: Chakra  Fetching Resources Prior Knowledge URL And URI Socket IP Protocol MAC Address Fetching from Cache Given the URL of a resource on the web, the browser starts by checking its local and application caches.">
<meta property="og:type" content="article">
<meta property="og:title" content="How Browsers Work">
<meta name="twitter:title" content="How Browsers Work">
<meta property="og:url" content="https://brilliun.com/2017/01/how-browsers-work/">
<meta property="twitter:url" content="https://brilliun.com/2017/01/how-browsers-work/">
<meta property="og:site_name" content="Brilliun&#39;s Blog">
<meta property="og:description" content="Prior Knowledge There are 3 main tasks for a browser to execute a web application:
 Fetching resources Page layout and rendering Javascript execution  Browsers And Browser Kernels Comparison of web browser engines
(WebKit)  Web layout engine: WebCore Javascript engine: JavascriptCore  Chrome  Web layout engine: Blink  Originally forked from WebCore, a component of WebKit  Javascript engine: V8  Safari  Web layout engine: WebCore Javascript engine: JavascriptCore  later evolved to Nitro, which compiles JavaScript into native machine code   Firefox  Web layout engine: Gecko Javascript engine: SpiderMonkey  Microsoft Edge  Web layout engine: EdgeHTML  forked from Trident, the engine of IE  Javascript engine: Chakra  Fetching Resources Prior Knowledge URL And URI Socket IP Protocol MAC Address Fetching from Cache Given the URL of a resource on the web, the browser starts by checking its local and application caches.">
<meta name="twitter:description" content="Prior Knowledge There are 3 main tasks for a browser to execute a web application:
 Fetching resources Page layout and rendering Javascript execution  Browsers And Browser Kernels Comparison of web browser engines
(WebKit)  Web layout engine: WebCore Javascript engine: JavascriptCore  Chrome  Web layout engine: Blink  Originally forked from WebCore, a component of WebKit  Javascript engine: V8  Safari  Web layout engine: WebCore Javascript engine: JavascriptCore  later evolved to Nitro, which compiles JavaScript into native machine code   Firefox  Web layout engine: Gecko Javascript engine: SpiderMonkey  Microsoft Edge  Web layout engine: EdgeHTML  forked from Trident, the engine of IE  Javascript engine: Chakra  Fetching Resources Prior Knowledge URL And URI Socket IP Protocol MAC Address Fetching from Cache Given the URL of a resource on the web, the browser starts by checking its local and application caches.">
<meta property="og:locale" content="en-us">

  
    <meta property="article:published_time" content="2017-01-14T22:36:48">
  
  
    <meta property="article:modified_time" content="2017-01-14T22:36:48">
  
  
  
    
      <meta property="article:section" content="Learning">
    
  
  
    
      <meta property="article:tag" content="browsers">
    
      <meta property="article:tag" content="frontend">
    
      <meta property="article:tag" content="javascript">
    
  


<meta name="twitter:card" content="summary">

  <meta name="twitter:site" content="@brilliun">


  <meta name="twitter:creator" content="@brilliun">










  <meta property="og:image" content="https://brilliun.com/images/myprofile.jpg">
  <meta property="twitter:image" content="https://brilliun.com/images/myprofile.jpg">


    <title>How Browsers Work</title>

    <link rel="icon" href="https://brilliun.com/favicon.ico">
    

    

    <link rel="canonical" href="https://brilliun.com/2017/01/how-browsers-work/">

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/jquery.fancybox.min.css" integrity="sha256-vuXZ9LGmmwtjqFX1F+EKin1ThZMub58gKULUyf0qECk=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/helpers/jquery.fancybox-thumbs.min.css" integrity="sha256-SEa4XYAHihTcEP1f5gARTB2K26Uk8PsndQYHQC1f4jU=" crossorigin="anonymous" />
    
    
    <link rel="stylesheet" href="https://brilliun.com/css/style-nnm2spxvve8onlujjlegkkytaehyadd4ksxc1hyzzq9a2wvtrgbljqyulomn.min.css" />
    
    

    
      
    
    
  </head>

  <body>
    <div id="blog">
      <header id="header" data-behavior="4">
  <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
  <div class="header-title">
    <a class="header-title-link" href="https://brilliun.com/">Brilliun&#39;s Blog</a>
  </div>
  
    
      <a class="header-right-picture "
         href="https://brilliun.com/#about">
    
    
    
      
        <img class="header-picture" src="https://brilliun.com/images/myprofile.jpg" alt="Author&#39;s picture" />
      
    
    </a>
  
</header>

      <nav id="sidebar" data-behavior="4">
  <div class="sidebar-container">
    
      <div class="sidebar-profile">
        <a href="https://brilliun.com/#about">
          <img class="sidebar-profile-picture" src="https://brilliun.com/images/myprofile.jpg" alt="Author&#39;s picture" />
        </a>
        <h4 class="sidebar-profile-name">Guangyao Liu</h4>
        
          <h5 class="sidebar-profile-bio">A father of two girls.</h5>
        
      </div>
    
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://brilliun.com/">
    
      <i class="sidebar-button-icon fa fa-lg fa-home"></i>
      
      <span class="sidebar-button-desc">Home</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://brilliun.com/categories">
    
      <i class="sidebar-button-icon fa fa-lg fa-bookmark"></i>
      
      <span class="sidebar-button-desc">Categories</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://brilliun.com/tags">
    
      <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
      
      <span class="sidebar-button-desc">Tags</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://brilliun.com/archives">
    
      <i class="sidebar-button-icon fa fa-lg fa-archive"></i>
      
      <span class="sidebar-button-desc">Archives</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://brilliun.com/#about">
    
      <i class="sidebar-button-icon fa fa-lg fa-question"></i>
      
      <span class="sidebar-button-desc">About</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://brilliun.com/index.xml">
    
      <i class="sidebar-button-icon fa fa-lg fa-rss"></i>
      
      <span class="sidebar-button-desc">RSS</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      

    </ul>
  </div>
</nav>

      

      <div id="main" data-behavior="4"
        class="
               hasCoverMetaIn
               ">
        <article class="post" itemscope itemType="http://schema.org/BlogPosting">
          
          
            <div class="post-header main-content-wrap text-left">
  
    <h1 class="post-title" itemprop="headline">
      How Browsers Work
    </h1>
  
  
  <div class="postShorten-meta post-meta">
    
      <time itemprop="datePublished" datetime="2017-01-14T22:36:48&#43;09:00">
        
  January 14, 2017

      </time>
    
    
  
  
    <span>in</span>
    
      <a class="category-link" href="https://brilliun.com/categories/learning">Learning</a>
    
  

  </div>

</div>
          
          <div class="post-content markdown" itemprop="articleBody">
            <div class="main-content-wrap">
              

<h1 id="table-of-contents">Table of Contents</h1><nav id="TableOfContents">
<ul>
<li><a href="#prior-knowledge">Prior Knowledge</a>
<ul>
<li><a href="#browsers-and-browser-kernels">Browsers And Browser Kernels</a>
<ul>
<li><a href="#webkit">(WebKit)</a></li>
<li><a href="#chrome">Chrome</a></li>
<li><a href="#safari">Safari</a></li>
<li><a href="#firefox">Firefox</a></li>
<li><a href="#microsoft-edge">Microsoft Edge</a></li>
</ul></li>
</ul></li>
<li><a href="#fetching-resources">Fetching Resources</a>
<ul>
<li><a href="#prior-knowledge-1">Prior Knowledge</a>
<ul>
<li><a href="#url-and-uri">URL And URI</a></li>
<li><a href="#socket">Socket</a></li>
<li><a href="#ip-protocol">IP Protocol</a></li>
<li><a href="#mac-address">MAC Address</a></li>
</ul></li>
<li><a href="#fetching-from-cache">Fetching from Cache</a>
<ul>
<li><a href="#cache-headers">Cache Headers</a></li>
</ul></li>
<li><a href="#socket-reuse">Socket Reuse</a></li>
<li><a href="#dns-lookup">DNS Lookup</a></li>
<li><a href="#tcp-connection">TCP Connection</a></li>
<li><a href="#dispatching-request">Dispatching Request</a></li>
<li><a href="#extra-topic-1-possible-latency">Extra Topic 1: Possible Latency</a></li>
<li><a href="#extra-topic-2-predictor">Extra Topic 2: Predictor</a></li>
</ul></li>
<li><a href="#page-layout-and-rendering">Page Layout and Rendering</a>
<ul>
<li><a href="#the-main-flow">The Main Flow</a>
<ul>
<li><a href="#step1-parsing">Step1 - Parsing</a></li>
<li><a href="#step2-construction-of-render-tree">Step2 - Construction of Render Tree</a></li>
<li><a href="#step3-layout">Step3 - Layout</a></li>
<li><a href="#step4-painting">Step4 - Painting</a></li>
</ul></li>
<li><a href="#the-order-of-processing-scripts-and-style-sheets">The Order of Processing Scripts and Style Sheets</a>
<ul>
<li><a href="#scripts">scripts</a></li>
<li><a href="#style-sheets">style sheets</a></li>
</ul></li>
<li><a href="#render-tree-construction">Render Tree Construction</a></li>
<li><a href="#layout">Layout</a>
<ul>
<li><a href="#dirty-bit-system">Dirty Bit System</a></li>
</ul></li>
<li><a href="#painting">Painting</a></li>
</ul></li>
<li><a href="#javascript-execution">Javascript Execution</a></li>
<li><a href="#further-readings">Further Readings</a></li>
</ul>
</nav>

<h1 id="prior-knowledge">Prior Knowledge</h1>

<p>There are 3 main tasks for a browser to execute a web application:</p>

<ul>
<li>Fetching resources</li>
<li>Page layout and rendering</li>
<li>Javascript execution</li>
</ul>

<h2 id="browsers-and-browser-kernels">Browsers And Browser Kernels</h2>

<p><a href="https://en.wikipedia.org/wiki/Comparison_of_web_browser_engines">Comparison of web browser engines</a></p>

<h3 id="webkit">(WebKit)</h3>

<ul>
<li>Web layout engine: WebCore</li>
<li>Javascript engine: JavascriptCore</li>
</ul>

<h3 id="chrome">Chrome</h3>

<ul>
<li>Web layout engine: Blink

<ul>
<li>Originally forked from WebCore, a component of WebKit</li>
</ul></li>
<li>Javascript engine: V8</li>
</ul>

<h3 id="safari">Safari</h3>

<ul>
<li>Web layout engine: WebCore</li>
<li>Javascript engine: JavascriptCore

<ul>
<li>later evolved to <strong>Nitro</strong>, which compiles JavaScript into native machine code</li>
</ul></li>
</ul>

<h3 id="firefox">Firefox</h3>

<ul>
<li>Web layout engine: Gecko</li>
<li>Javascript engine: SpiderMonkey</li>
</ul>

<h3 id="microsoft-edge">Microsoft Edge</h3>

<ul>
<li>Web layout engine: EdgeHTML

<ul>
<li>forked from Trident, the engine of IE</li>
</ul></li>
<li>Javascript engine: Chakra</li>
</ul>

<h1 id="fetching-resources">Fetching Resources</h1>

<h2 id="prior-knowledge-1">Prior Knowledge</h2>

<h3 id="url-and-uri">URL And URI</h3>

<h3 id="socket">Socket</h3>

<h3 id="ip-protocol">IP Protocol</h3>

<h3 id="mac-address">MAC Address</h3>

<h2 id="fetching-from-cache">Fetching from Cache</h2>

<p>Given the URL of a resource on the web, the browser starts by checking its local and application caches. If you have previously fetched the resource and the appropriate cache headers were provided (see below), then it is possible that we are allowed to use the local copy to fulfill the request.</p>

<h3 id="cache-headers">Cache Headers</h3>

<ul>
<li>Expires</li>
<li>ETag</li>
<li>Last-Modified</li>
<li>Cache-Control</li>
</ul>

<h2 id="socket-reuse">Socket Reuse</h2>

<p>Given a hostname and resource path, Chrome first checks for existing open connections it is allowed to reuse–sockets are pooled by {scheme, host, port}.
Finally, if neither of the above conditions is matched, then the request must begin by resolving the hostname to its IP address–also known as a DNS lookup.</p>

<h2 id="dns-lookup">DNS Lookup</h2>

<p>If we are lucky, the hostname will already be cached in which case the response is usually just one quick system call away. If not, then a DNS query must be dispatched before any other work can happen.</p>

<h2 id="tcp-connection">TCP Connection</h2>

<p>New TCP connection -&gt; Three-way handshake -&gt; One round-trip</p>

<p>And possibly, once the TCP handshake is complete, and if we are connecting to a secure destination (HTTPS), then the SSL handshake must take place. This can add up to two additional round-trips of latency delay between client and server. If the SSL session is cached, then we can “escape” with just one additional round-trip.</p>

<h2 id="dispatching-request">Dispatching Request</h2>

<p>Finally, the browser is able to dispatch the HTTP request. Once received, the server can process the request and then stream the response data back to the client. This incurs a minimum of one network round-trip, plus the processing time on the server. Following that, we are done–unless the actual response is an HTTP redirect, in which case we may have to repeat the entire cycle once over. Have a few gratuitous redirects on your pages? You may want to revisit that decision.</p>

<h2 id="extra-topic-1-possible-latency">Extra Topic 1: Possible Latency</h2>

<ul>
<li>If the server response does not fit into the initial TCP congestion window (4-15 KB), then one or more additional round-trips of latency is introduced</li>
<li>SSL delays could get even worse if we need to fetch a missing certificate or perform an online certificate status check (OCSP), both of which will require an entirely new TCP connection, which can add hundreds and even thousands of milliseconds of additional latency.</li>
</ul>

<h2 id="extra-topic-2-predictor">Extra Topic 2: Predictor</h2>

<pre><code>chrome://predictors/
</code></pre>

<p>A few example signals:</p>

<ul>
<li>mouse hover link</li>
<li>typing in address bar</li>
<li>user histories</li>
</ul>

<p>Network optimization techniques used by Chrome</p>

<ul>
<li>DNS pre-resolve

<ul>
<li>Resolve hostnames ahead of time, to avoid DNS latency</li>
</ul></li>
<li>TCP pre-connect

<ul>
<li>Connect to destination server ahead of time, to avoid TCP handshake latency</li>
</ul></li>
<li>Resource prefetching

<ul>
<li>Fetch critical resources on the page ahead of time, to accelerate rendering of the page</li>
</ul></li>
<li>Page pre-rendering

<ul>
<li>Fetch the entire page with all of its resources ahead of time, to enable instant navigation when triggered by the user</li>
</ul></li>
</ul>

<h1 id="page-layout-and-rendering">Page Layout and Rendering</h1>

<h2 id="the-main-flow">The Main Flow</h2>

<p><img src="https://brilliun.com/images/how-browsers-work/webkitflow.png" alt="webkitflow" /></p>

<h3 id="step1-parsing">Step1 - Parsing</h3>

<ul>
<li>Parse HTML and generate DOM tree</li>
<li>Parse CSS and generate style rules</li>
</ul>

<h3 id="step2-construction-of-render-tree">Step2 - Construction of Render Tree</h3>

<p>DOM tree and style rules are combined to generate a render tree</p>

<blockquote>
<p><strong>Render tree</strong>
Render tree contains rectangles with visual attributes like color and dimensions. They are in the right order to be displayed on the screen</p>
</blockquote>

<h3 id="step3-layout">Step3 - Layout</h3>

<p>Give each node of render tree the exact coordinates where it should appear on the screen</p>

<h3 id="step4-painting">Step4 - Painting</h3>

<p>The render tree will be traversed and each node will be painted using the UI backend layer.</p>

<blockquote>
<p><strong>Note:</strong>
For better user experience, the rendering engine will try to display contents on the screen as soon as possible. It will not wait until all HTML is parsed before starting to build and layout the render tree. Parts of the content will be parsed and displayed, while the process continues with the rest of the contents that keeps coming from the network.</p>
</blockquote>

<h2 id="the-order-of-processing-scripts-and-style-sheets">The Order of Processing Scripts and Style Sheets</h2>

<h3 id="scripts">scripts</h3>

<p>The model of the web is synchronous.</p>

<p>Authors expect scripts to be parsed and executed immediately when the parser reaches a <code>&lt;script&gt;</code> tag. The parsing of the document halts until the script has been executed.</p>

<p>If the script is external then the resource must first be fetched from the network–this is also done synchronously, and parsing halts until the resource is fetched.</p>

<p>There are two attributes of <code>&lt;script&gt;</code> tag which address this problem:</p>

<blockquote>
<p><strong>defer</strong>
I will not halt document parsing and will execute after the document is parsed.</p>

<p><strong>async</strong>
It will be parsed and executed by a different thread.</p>

<p><em>Note: The async attribute is only for external scripts (and should only be used if the src attribute is present)</em>.</p>
</blockquote>

<h3 id="style-sheets">style sheets</h3>

<p>Scripts might ask for style information during the document parsing stage. If the style is not loaded and parsed yet, the script will get wrong answers.</p>

<p>Therefore, Firefox blocks all scripts when there is a style sheet that is still being loaded and parsed. WebKit blocks scripts only when they try to access certain style properties that may be affected by unloaded style sheets.</p>

<h2 id="render-tree-construction">Render Tree Construction</h2>

<p>Elements(renderer) on render tree know how to lay out and paint itself and its children.</p>

<p>The renderers correspond to DOM elements, but the relation is not one to one. For example, non-visual DOM elements will not be inserted in the render tree.</p>

<p>There are also DOM elements which correspond to several visual objects. These are usually elements with complex structure that cannot be described by a single rectangle.</p>

<p>Some render objects correspond to a DOM node but not in the same place in the tree. Floats and absolutely positioned elements are out of flow, placed in a different part of the tree, and mapped to the real frame.</p>

<h2 id="layout">Layout</h2>

<p>HTML uses a flow based layout model, meaning that most of the time it is possible to compute the geometry in a single pass. Elements later in the flow typically do not affect the geometry of elements that are earlier in the flow, so layout can proceed left-to-right, top-to-bottom through the document.</p>

<h3 id="dirty-bit-system">Dirty Bit System</h3>

<p>In order not to do a full layout for every small change, browsers use a &ldquo;dirty bit&rdquo; system. A renderer that is changed or added marks itself and its children as &ldquo;dirty&rdquo;: needing layout.</p>

<h2 id="painting">Painting</h2>

<h1 id="javascript-execution">Javascript Execution</h1>

<h1 id="further-readings">Further Readings</h1>

<ul>
<li><a href="https://medium.com/@addyosmani/javascript-start-up-performance-69200f43b201">Javascript Startup Performance</a></li>
<li><a href="https://www.chromium.org/developers/design-documents">Chrome Design Docs</a></li>
<li><a href="https://www.chromium.org/developers/design-documents/chromium-graphics">Chrome Graphics</a></li>
<li><a href="https://docs.google.com/presentation/d/1214p4CFjsF-NY4z9in0GEcJtjbyVQgU0A-UqEvovzCs/mobilepresent?slide=id.p">The V8 Parser(s)</a></li>
<li><a href="https://www.smashingmagazine.com/2016/12/gpu-animation-doing-it-right/">GPU Animation: Doing It Right</a></li>
<li><a href="https://drive.google.com/open?id=15kiEfYAGCtRPUJb9mGq-HOcvQg_5hj7fHpsrjDIeIPM">Slides by myself</a></li>
</ul>

              
            </div>
          </div>
          <div id="post-footer" class="post-footer main-content-wrap">
            
              
                
                
                  <div class="post-footer-tags">
                    <span class="text-color-light text-small">TAGGED IN</span><br/>
                    
  <a class="tag tag--primary tag--small" href="https://brilliun.com/tags/browsers/">browsers</a>

  <a class="tag tag--primary tag--small" href="https://brilliun.com/tags/frontend/">frontend</a>

  <a class="tag tag--primary tag--small" href="https://brilliun.com/tags/javascript/">javascript</a>

                  </div>
                
              
            
            <div class="post-actions-wrap">
  
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="https://brilliun.com/2017/02/algorithms-and-data-structures/" data-tooltip="Algorithms and Data Structures">
              
                  <i class="fa fa-angle-left"></i>
                  <span class="hide-xs hide-sm text-small icon-ml">NEXT</span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="https://brilliun.com/2017/01/tips-for-coding-interviews/" data-tooltip="Tips for Coding Interviews">
              
                  <span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
                  <i class="fa fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://brilliun.com/2017/01/how-browsers-work/">
              <i class="fa fa-facebook-official"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=https://brilliun.com/2017/01/how-browsers-work/">
              <i class="fa fa-twitter"></i>
            </a>
          </li>
        
      
      
        <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#disqus_thread">
            <i class="fa fa-comment-o"></i>
          </a>
        </li>
      
      <li class="post-action">
        
          <a class="post-action-btn btn btn--default" href="#table-of-contents">
        
          <i class="fa fa-list"></i>
        </a>
      </li>
    </ul>
  
</div>

            
              
                <div id="disqus_thread">
  <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
              
            
          </div>
        </article>
        <footer id="footer" class="main-content-wrap">
  <span class="copyrights">
    &copy; 2019 Guangyao Liu. All Rights Reserved
  </span>
</footer>

      </div>
      <div id="bottom-bar" class="post-bottom-bar" data-behavior="4">
        <div class="post-actions-wrap">
  
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="https://brilliun.com/2017/02/algorithms-and-data-structures/" data-tooltip="Algorithms and Data Structures">
              
                  <i class="fa fa-angle-left"></i>
                  <span class="hide-xs hide-sm text-small icon-ml">NEXT</span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="https://brilliun.com/2017/01/tips-for-coding-interviews/" data-tooltip="Tips for Coding Interviews">
              
                  <span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
                  <i class="fa fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://brilliun.com/2017/01/how-browsers-work/">
              <i class="fa fa-facebook-official"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=https://brilliun.com/2017/01/how-browsers-work/">
              <i class="fa fa-twitter"></i>
            </a>
          </li>
        
      
      
        <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#disqus_thread">
            <i class="fa fa-comment-o"></i>
          </a>
        </li>
      
      <li class="post-action">
        
          <a class="post-action-btn btn btn--default" href="#table-of-contents">
        
          <i class="fa fa-list"></i>
        </a>
      </li>
    </ul>
  
</div>

      </div>
      <div id="share-options-bar" class="share-options-bar" data-behavior="4">
  <i id="btn-close-shareoptions" class="fa fa-close"></i>
  <ul class="share-options">
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fbrilliun.com%2F2017%2F01%2Fhow-browsers-work%2F">
          <i class="fa fa-facebook-official"></i><span>Share on Facebook</span>
        </a>
      </li>
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://twitter.com/intent/tweet?text=https%3A%2F%2Fbrilliun.com%2F2017%2F01%2Fhow-browsers-work%2F">
          <i class="fa fa-twitter"></i><span>Share on Twitter</span>
        </a>
      </li>
    
  </ul>
</div>
<div id="share-options-mask" class="share-options-mask"></div>
    </div>
    
    <div id="about">
  <div id="about-card">
    <div id="about-btn-close">
      <i class="fa fa-remove"></i>
    </div>
    
      <img id="about-card-picture" src="https://brilliun.com/images/myprofile.jpg" alt="Author&#39;s picture" />
    
    <h4 id="about-card-name">Guangyao Liu</h4>
    
      <div id="about-card-bio">A father of two girls.</div>
    
    
      <div id="about-card-job">
        <i class="fa fa-briefcase"></i>
        <br/>
        Software Engineer
      </div>
    
    
      <div id="about-card-location">
        <i class="fa fa-map-marker"></i>
        <br/>
        Tokyo, Japan
      </div>
    
  </div>
</div>

    <div id="algolia-search-modal" class="modal-container">
  <div class="modal">
    <div class="modal-header">
      <span class="close-button"><i class="fa fa-close"></i></span>
      <a href="https://algolia.com" target="_blank" rel="noopener" class="searchby-algolia text-color-light link-unstyled">
        <span class="searchby-algolia-text text-color-light text-small">by</span>
        <img class="searchby-algolia-logo" src="https://www.algolia.com/static_assets/images/press/downloads/algolia-light.svg">
      </a>
      <i class="search-icon fa fa-search"></i>
      <form id="algolia-search-form">
        <input type="text" id="algolia-search-input" name="search"
          class="form-control input--large search-input" placeholder="Search" />
      </form>
    </div>
    <div class="modal-body">
      <div class="no-result text-color-light text-center">no post found</div>
      <div class="results">
        
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://brilliun.com/2018/06/implementation-of-api-pagination/">
                <h3 class="media-heading">Implementation of API Pagination</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Jun 6, 2018
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">Overview Stable pagination is not a silver bullet. Consider sites like Reddit and Hacker News. Their pagination is inherently unstable: items are sorted by a volatile ranking, frequently moving up and down the list over time. How do they deal with it? They don&rsquo;t.
Both sites frequently showcases how bad it can look by showing duplicate items as you advance pages. It&rsquo;s not all that bad, because neither site subscribes to the infinite scrolling crowd (yet?</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://brilliun.com/2018/05/designing-data-intensive-applications-part1/">
                <h3 class="media-heading">Designing Data Intensive Applications Part1</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  May 5, 2018
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">CH01. Reliable, Scalable, and Maintainable Applications About Data System We can think of any kind of databases, queues, or caches as a data system. Nowadays, these tools are optimized for a variety of different uses, and they no longer neatly fit into their origin categories
For example, there are data stores that are also used as message queues (Redis), and there are message queues with database-like durability guarantees (Apache Kafka).</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://brilliun.com/2018/04/the-innodb-storage-engine/">
                <h3 class="media-heading">The InnoDB Storage Engine</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Apr 4, 2018
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">Starting from MySQL 5.5.5, the default storage engine for new tables is InnoDB rather than MyISAM.
Multi-Version Concurrency Control (MVCC) This technique lets InnoDB transactions with certain isolation levels perform consistent read operations; that is, to query rows that are being updated by other transactions, and see the values from before those updates occurred. This is a powerful technique to increase concurrency, by allowing queries to proceed without waiting due to locks held by the other transactions.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://brilliun.com/2017/06/git-cleanup-local-branches-merged/">
                <h3 class="media-heading">Git Cleanup Local Branches Merged</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Jun 6, 2017
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">TL;DR $ git branch --merged develop | egrep -v &quot;(^\*|master|dev)&quot; | xargs -n 1 git branch -d  BTW git branch --no-merged  can be used to check the branches to keep.
Breakdown 1. Find branches merged # list up branches merged into 'develop' git branch --merged develop  OR
# list up branches merged into current branch git branch --merged  2. Exclude critical branches # Exclude branches with prefix of &quot;*&quot;(current), &quot;master&quot;, or &quot;dev&quot; egrep -v &quot;(^\*|master|dev)&quot;  **egrep is equivalent to grep -E</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://brilliun.com/2017/05/python-notes/">
                <h3 class="media-heading">Python Notes</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  May 5, 2017
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">1. Numeric Values &gt;&gt;&gt; 17 // 3 # floor division 5 &gt;&gt;&gt; 17 % 3 # remainder 2 &gt;&gt;&gt; 2 ** 7 # 2 to the power of 7 128  2. Strings  Unlike other languages, special characters such as \n have the same meaning with both single ('...') and double (&quot;...&quot;) quotes. The only difference between the two is that within single quotes you don’t need to escape &quot; (but you have to escape \') and vice versa.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://brilliun.com/2017/02/ssl-and-ssh/">
                <h3 class="media-heading">SSL and SSH</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Feb 2, 2017
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">Concepts  SSL: Secure Sockets Layer
TLS: Transport Layer Security (TLS is the name of the IETF protocol standard that grew out of SSL 3.0)
HTTPS: HyperText Transfer Protocol over SSL/TLS
SSH: Secure Shell
 HTTPS is the secure replacement for HTTP, while SSH is the secure replacement for Telnet.
Similarity  Both SSH and SSL use symmetric cryptography to preserve the confidentiality of transmitted data. They both use asymmetric cryptography a.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://brilliun.com/2017/02/algorithms-and-data-structures/">
                <h3 class="media-heading">Algorithms and Data Structures</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Feb 2, 2017
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">Time Complexity Usually only the worst-case running time is considered because:
 it gives an upper bound For many situations, the worst case occurs fairly often. (Eg. searching for items which may frequently be absent) The average case is often as bad as worst case (:TO-CHECK:)  To easily describe the performance of an algorithm, we usually use order of growth, e.g., O(n^2).
Sorting Algorithms Comparison of sorting algorithms</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://brilliun.com/2017/01/how-browsers-work/">
                <h3 class="media-heading">How Browsers Work</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Jan 1, 2017
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">Prior Knowledge There are 3 main tasks for a browser to execute a web application:
 Fetching resources Page layout and rendering Javascript execution  Browsers And Browser Kernels Comparison of web browser engines
(WebKit)  Web layout engine: WebCore Javascript engine: JavascriptCore  Chrome  Web layout engine: Blink  Originally forked from WebCore, a component of WebKit  Javascript engine: V8  Safari  Web layout engine: WebCore Javascript engine: JavascriptCore  later evolved to Nitro, which compiles JavaScript into native machine code   Firefox  Web layout engine: Gecko Javascript engine: SpiderMonkey  Microsoft Edge  Web layout engine: EdgeHTML  forked from Trident, the engine of IE  Javascript engine: Chakra  Fetching Resources Prior Knowledge URL And URI Socket IP Protocol MAC Address Fetching from Cache Given the URL of a resource on the web, the browser starts by checking its local and application caches.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://brilliun.com/2017/01/tips-for-coding-interviews/">
                <h3 class="media-heading">Tips for Coding Interviews</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Jan 1, 2017
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">Primer  When target is string, confirm whether it&rsquo;s ASCII, which at most has 256 possible characters. So use space to boost time performance.
 whenever only flags or booleans in an array, use bit vector instead for better space complexity.
 For linked list problems, usually a pair of slow pointer and fast pointer would be a nice try.gb
  Tree Depth/Height  To get the height (from leaf) of each node in a binary tree, use following recursive code:  function getHeight(TreeNode curr) { if (curr == null) return 0; return Math.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://brilliun.com/2016/12/high-performance-browser-networking/">
                <h3 class="media-heading">High Performance Browser Networking</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Dec 12, 2016
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">Ch01. Primer on Latency and Bandwidth  Latency
The time from the source sending a packet to the destination receiving it
Bandwidth
Maximum throughput of a logical or physical communication path
 Latency, not bandwidth, is the performance bottleneck for most web‐ sites!
To increase bandwidth, while it might not be cheap, we have multiple strategies available, like adding more fiber links.
Improving latency, on the other hand, is a very different story.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
      </div>
    </div>
    <div class="modal-footer">
      <p class="results-count text-medium"
         data-message-zero="no post found"
         data-message-one="1 post found"
         data-message-other="{n} posts found">
         14 posts found
      </p>
    </div>
  </div>
</div>
    
  
    
    <div id="cover" style="background-image:url('https://brilliun.com/images/mycover.jpg');"></div>
  


    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js" integrity="sha256-/BfiIkHlHoVihZdc6TFuj7MmJ0TWcWsMXkeDFwhi0zw=" crossorigin="anonymous"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.7/js/jquery.fancybox.min.js" integrity="sha256-GEAnjcTqVP+vBp3SSc8bEDQqvWAZMiHyUSIorrWwH50=" crossorigin="anonymous"></script>


<script src="https://brilliun.com/js/script-qi9wbxp2ya2j6p7wx1i6tgavftewndznf4v0hy2gvivk1rxgc3lm7njqb6bz.min.js"></script>


<script lang="javascript">
window.onload = updateMinWidth;
window.onresize = updateMinWidth;
document.getElementById("sidebar").addEventListener("transitionend", updateMinWidth);
function updateMinWidth() {
  var sidebar = document.getElementById("sidebar");
  var main = document.getElementById("main");
  main.style.minWidth = "";
  var w1 = getComputedStyle(main).getPropertyValue("min-width");
  var w2 = getComputedStyle(sidebar).getPropertyValue("width");
  var w3 = getComputedStyle(sidebar).getPropertyValue("left");
  main.style.minWidth = `calc(${w1} - ${w2} - ${w3})`;
}
</script>

<script>
$(document).ready(function() {
  hljs.configure({ classPrefix: '', useBR: false });
  $('pre.code-highlight > code, pre > code').each(function(i, block) {
    if (!$(this).hasClass('codeblock')) {
      $(this).addClass('codeblock');
    }
    hljs.highlightBlock(block);
  });
});
</script>


  
    
      <script>
        var disqus_config = function () {
          this.page.url = 'https:\/\/brilliun.com\/2017\/01\/how-browsers-work\/';
          
            this.page.identifier = '\/2017\/01\/how-browsers-work\/'
          
        };
        (function() {
          
          
          if (window.location.hostname == "localhost") {
            return;
          }
          var d = document, s = d.createElement('script');
          var disqus_shortname = 'brilliun';
          s.src = '//' + disqus_shortname + '.disqus.com/embed.js';

          s.setAttribute('data-timestamp', +new Date());
          (d.head || d.body).appendChild(s);
        })();
      </script>
    
  




    
  </body>
</html>

